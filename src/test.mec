# mech/test

Every test has a name and expected result. The expected result is compared against the evaluated (actual) result. The result column holds the result of the comparison. 
  #test = [|name<string> expected<_> actual<_>|]

Compares the expected and actual results of the test table.
  #test/results = #test.expected == #test.actual

Aggregate test result
  passed = #test/results == true
  #test/passed = #test.name{passed}
  #test/failed = #test.name{!passed}

Print output
  #io/out += ["╭──────────────────────────────╮"
              "│ ✅ Passed                    │"
              "├──────────────────────────────┤"
              #test/passed
              "├──────────────────────────────┤"
              "│ ❌ Failed                    │"
              "├──────────────────────────────┤"
              #test/failed
              "╰──────────────────────────────╯"]

Tally up the tests
  passed = table/size(table: #test/passed)
  total  = table/size(table: #test)
  failed = total - passed
  #test/result = [passed: passed{1}, failed: failed{1}, total: total{1}]

Set a flag to indicate success or failure
  #test/success = #test/result.passed == #test/result.total

The exit code is the number of failed tests. 0 indicate success!
  #system/exit += #test/result.failed